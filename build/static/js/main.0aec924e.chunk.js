(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{28:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(17),s=n.n(i),o=n(8),r=n(3),l=(n(28),n(21)),u=n(2),p="http://api.nesterova.students.nomoredomains.icu";function _(e){return fetch("".concat(p,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return e}))}var d=n.p+"static/media/header__logo.ff16f24b.svg",j=n(0);function m(e){var t=Object(r.g)();return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("img",{src:d,alt:"\u041c\u0435\u0441\u0442\u043e",className:"header__logo"}),e.loggedIn?Object(j.jsxs)("div",{className:"header__wrapper",children:[Object(j.jsx)("p",{className:"header__email",children:e.userEmail}),Object(j.jsx)(o.b,{to:"/sign-in",className:"header__link header__link_type_signout",onClick:function(){localStorage.removeItem("token"),e.onSignOut(),t.push("/sign-in")},children:"\u0412\u044b\u0439\u0442\u0438"})]}):e.isLoginActive?Object(j.jsx)(o.b,{to:"/sign-up",className:"header__link",onClick:e.handleLoginInactive,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}):Object(j.jsx)(o.b,{to:"/sign-in",className:"header__link",onClick:e.handleLoginActive,children:"\u0412\u043e\u0439\u0442\u0438"})]})}var b=c.a.createContext();function h(e){var t=c.a.useContext(b),n=e.card.owner===t._id,a=e.card.likes.some((function(e){return e===t._id})),i="".concat(n?"element__delete-button":"element__delete-button element__delete-button_hidden"),s="".concat(a?"element__like-button element__like-button_clicked":"element__like-button");return Object(j.jsxs)("li",{className:"element",children:[Object(j.jsx)("img",{src:e.card.link,alt:e.card.name,className:"element__image",onClick:function(){e.onCardClick(e.card)}}),Object(j.jsx)("button",{className:i,onClick:function(){e.onDelete(e.card)}}),Object(j.jsxs)("div",{className:"element__description",children:[Object(j.jsx)("h2",{className:"element__text",children:e.card.name}),Object(j.jsxs)("div",{className:"element__likes",children:[Object(j.jsx)("button",{className:s,onClick:function(){e.onCardLike(e.card)},type:"button"}),Object(j.jsx)("span",{className:"element__like-counter",children:e.card.likes.length})]})]})]})}var f=function(e){var t=c.a.useContext(b);return Object(j.jsxs)("main",{className:"content",children:[Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsxs)("div",{className:"profile__info",children:[Object(j.jsx)("button",{className:"profile__image-button",onClick:e.onEditAvatar,children:Object(j.jsx)("img",{src:t.avatar,alt:t.name,className:"profile__image"})}),Object(j.jsx)("h1",{className:"profile__title",children:t.name}),Object(j.jsx)("button",{className:"profile__edit-button",type:"button",onClick:e.onEditProfile}),Object(j.jsx)("p",{className:"profile__subtitle",children:t.about})]}),Object(j.jsx)("button",{className:"profile__add-button",type:"button",onClick:e.onAddPlace})]}),Object(j.jsx)("section",{className:"elements",children:Object(j.jsx)("ul",{className:"elements__items",children:e.cards.map((function(t){return Object(j.jsx)(h,{card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete,onDelete:e.onDelete},t._id)}))})})]})};function g(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})}function O(e){return Object(j.jsx)("section",{className:e.card?"popup popup_type_".concat(e.name," popup_opened"):"popup popup_type_".concat(e.name),children:Object(j.jsxs)("figure",{className:"popup__container-image",children:[Object(j.jsx)("button",{onClick:e.onClose,className:"popup__close-button popup__close-button_type_".concat(e.name," popup__close-button_position_side")}),Object(j.jsx)("img",{className:"popup__image",src:e.card.link,alt:e.card.name}),Object(j.jsx)("figcaption",{className:"popup__caption",children:e.card.name})]})})}function x(e){return Object(j.jsx)("section",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),children:Object(j.jsxs)("div",{className:"popup__container popup__container_type_".concat(e.name),children:[Object(j.jsx)("button",{onClick:e.onClose,className:"popup__close-button popup__close-button_type_".concat(e.name)}),Object(j.jsx)("h2",{className:"popup__title",children:e.title}),Object(j.jsxs)("form",{name:e.name,onSubmit:e.onSubmit,className:"popup__form popup__form_type_".concat(e.name),children:[e.children,Object(j.jsx)("button",{className:"popup__button popup__button_type_".concat(e.name),type:"submit",children:e.save?e.isSaving?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":e.isDeleting?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})}function v(e){var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],i=n[1],s=c.a.useState(""),o=Object(u.a)(s,2),r=o[0],l=o[1],p=c.a.useContext(b);return c.a.useEffect((function(){i(p.name),l(p.about)}),[p]),Object(j.jsx)(x,{isOpen:e.isOpen,save:!0,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:a,about:r})},name:"edit",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isSaving:e.isSaving,children:Object(j.jsxs)("fieldset",{className:"popup__field",children:[Object(j.jsx)("input",{type:"text",name:"name",className:"popup__input popup__input_type_title",placeholder:"\u0418\u043c\u044f",id:"name-input",minLength:"2",maxLength:"40",value:a||"",onChange:function(e){i(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"name-input-error"}),Object(j.jsx)("input",{type:"text",name:"profession",className:"popup__input popup__input_type_subtitle",placeholder:"\u0412\u0438\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",id:"profession-input",minLength:"2",maxLength:"200",value:r||"",onChange:function(e){l(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"profession-input-error"})]})})}function y(e){var t=c.a.useRef();return c.a.useEffect((function(){e.isOpen||(t.current.value="")}),[e.isOpen]),Object(j.jsx)(x,{isOpen:e.isOpen,save:!0,onClose:e.onClose,name:"edit-pic",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isSaving:e.isSaving,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})},children:Object(j.jsxs)("fieldset",{className:"popup__field",children:[Object(j.jsx)("input",{type:"url",name:"user_pic",className:"popup__input popup__input_type_link",id:"profile-pic-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",ref:t,required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"profile-pic-input-error"})]})})}function N(e){var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],i=n[1],s=c.a.useState(""),o=Object(u.a)(s,2),r=o[0],l=o[1];return c.a.useEffect((function(){e.isOpen||(i(""),l(""))}),[e.isOpen]),Object(j.jsx)(x,{isOpen:e.isOpen,save:!0,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({description:r,image:a})},name:"add",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",isSaving:e.isSaving,children:Object(j.jsxs)("fieldset",{className:"popup__field",children:[Object(j.jsx)("input",{type:"text",name:"description",className:"popup__input popup__input_type_description",id:"description-input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"1",maxLength:"30",value:r||"",onChange:function(e){l(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"description-input-error"}),Object(j.jsx)("input",{type:"url",name:"image",className:"popup__input popup__input_type_link",id:"place-image-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:a||"",onChange:function(e){i(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"place-image-input-error"})]})})}var C=n.p+"static/media/error.9a236596.jpg";function k(e){return Object(j.jsx)("section",{className:e.isOpen?"popup popup_type_error popup_opened":"popup popup_type_error",children:Object(j.jsxs)("div",{className:"popup__container popup__container_type_error",children:[Object(j.jsx)("button",{onClick:e.onClose,className:"popup__close-button popup__close-button_type_error popup__close-button_position_side"}),Object(j.jsx)("img",{src:C,alt:"\u041e\u0448\u0438\u0431\u043a\u0430",className:"popup__error-image"}),Object(j.jsx)("h2",{className:"popup__title popup__title_type_error",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),Object(j.jsx)("p",{className:"popup__subtitle",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"})]})})}function S(e){return Object(j.jsx)(x,{name:"delete",save:!1,isOpen:e.isOpen,onClose:e.onClose,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",onSubmit:function(t){t.preventDefault(),e.onCardDelete(t)},isDeleting:e.isDeleting})}var D=n.p+"static/media/ring.8f5826bb.svg";function T(e){return Object(j.jsx)("div",{className:e.isLoading?"loader loader_shown":"loader",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:D,alt:"",className:"loader__image loader__image_size_xl"}),Object(j.jsx)("img",{src:D,alt:"",className:"loader__image loader__image_size_l"}),Object(j.jsx)("img",{src:D,alt:"",className:"loader__image loader__image_size_m"}),Object(j.jsx)("img",{src:D,alt:"",className:"loader__image loader__image_size_s"}),Object(j.jsx)("img",{src:D,alt:"",className:"loader__image loader__image_size_xs"})]})})}var L=n(19),U=n(20),E=new(function(){function e(t){var n=t.baseUrl,a=t.authorization,c=t.contentType;Object(L.a)(this,e),this._baseUrl=n,this._authorization=a,this._contentType=c}return Object(U.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status)))}},{key:"getInitialCards",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return t._getResponseData(e)}))}},{key:"getUserInfo",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return t._getResponseData(e)}))}},{key:"changeUserInfo",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":this._contentType},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return n._getResponseData(e)}))}},{key:"addNewCard",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"Content-Type":this._contentType},body:JSON.stringify({name:e.description,link:e.image})}).then((function(e){return n._getResponseData(e)}))}},{key:"deleteCard",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(t),"Content-Type":this._contentType}}).then((function(e){return n._getResponseData(e)}))}},{key:"getNewUserPic",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":this._contentType},body:JSON.stringify({avatar:e.avatar})}).then((function(e){return n._getResponseData(e)}))}},{key:"changeLikeCardStatus",value:function(e,t,n){var a=this;return t?fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:{authorization:"Bearer ".concat(n),"Content-Type":this._contentType}}).then((function(e){return a._getResponseData(e)})):fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:{authorization:"Bearer ".concat(n),"Content-Type":this._contentType}}).then((function(e){return a._getResponseData(e)}))}}]),e}())({baseUrl:"http://api.nesterova.students.nomoredomains.icu",contentType:"application/json"});var I=Object(r.h)((function(e){var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],i=n[1],s=c.a.useState(""),o=Object(u.a)(s,2),r=o[0],l=o[1];return c.a.useEffect((function(){e.loggedIn&&(i(""),l(""))}),[e.loggedIn]),Object(j.jsx)("section",{className:"data data_type_login",children:Object(j.jsxs)("div",{className:"data__container data__container_type_login",children:[Object(j.jsx)("h2",{className:"data__title data__header_type_login",children:"\u0412\u0445\u043e\u0434"}),Object(j.jsxs)("form",{name:"login-form",className:"data__form data__form-type_login",onSubmit:function(t){t.preventDefault(),a&&r&&e.onLogin(r,a)},children:[Object(j.jsx)("input",{className:"data__input data__input_type_register",placeholder:"Email",name:"email",id:"email",type:"email",value:a,onChange:function(e){i(e.target.value)},required:!0}),Object(j.jsx)("input",{className:"data__input data__input_type_register",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",id:"password",type:"password",value:r,onChange:function(e){l(e.target.value)},required:!0}),Object(j.jsx)("button",{type:"submit",className:"data__button data__button_type_login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}));var A=Object(r.h)((function(e){var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],i=n[1],s=c.a.useState(""),r=Object(u.a)(s,2),l=r[0],p=r[1];return c.a.useEffect((function(){e.isRegisterSuccess&&(i(""),p(""))}),[e.isRegisterSuccess]),Object(j.jsx)("section",{className:"data data_type_register",children:Object(j.jsxs)("div",{className:"data__container data__container_type_register",children:[Object(j.jsx)("h2",{className:"data__title data__header_type_register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsxs)("form",{name:"login-form",className:"data__form data__form-type_register",onSubmit:function(t){t.preventDefault(),e.onRegister(l,a)},children:[Object(j.jsx)("input",{className:"data__input data__input_type_register",placeholder:"Email",name:"email",id:"email",type:"email",value:a,onChange:function(e){i(e.target.value)},required:!0}),Object(j.jsx)("input",{className:"data__input data__input_type_register",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",id:"password",type:"password",value:l,onChange:function(e){p(e.target.value)},required:!0}),Object(j.jsx)("button",{type:"submit",className:"data__button data__button_type_register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("h3",{className:"data__subtitle",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(j.jsx)(o.b,{className:"data__link",to:"/sign-in",onClick:e.handleLoginActive,children:" \u0412\u043e\u0439\u0442\u0438"})]})]})})})),P=n.p+"static/media/success.1b6082f8.svg",w=n.p+"static/media/fail.df8eddf6.svg";function z(e){return Object(j.jsx)("section",{className:e.isOpen?"popup popup_type_info popup_opened":"popup popup_type_info",children:Object(j.jsxs)("div",{className:"popup__container popup__container_type_info",children:[Object(j.jsx)("button",{onClick:e.onClose,className:"popup__close-button popup__close-button_type_info"}),Object(j.jsx)("img",{src:e.success?P:w,alt:"",className:"popup__info-image"}),Object(j.jsx)("h2",{className:"popup__title popup__title_type_info",children:e.success?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."})]})})}var R=n(22),B=n(23);function q(e){var t=e.component,n=Object(B.a)(e,["component"]);return Object(j.jsx)(r.b,{children:function(){return n.loggedIn?Object(j.jsx)(t,Object(R.a)({},n)):Object(j.jsx)(r.a,{to:"./sign-in"})}})}var J=Object(r.h)((function(){var e=c.a.useState(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],i=c.a.useState(!1),s=Object(u.a)(i,2),o=s[0],d=s[1],h=c.a.useState(!1),x=Object(u.a)(h,2),C=x[0],D=x[1],L=c.a.useState(!1),U=Object(u.a)(L,2),P=U[0],w=U[1],R=c.a.useState([]),B=Object(u.a)(R,2),J=B[0],F=B[1],H=c.a.useState({}),M=Object(u.a)(H,2),G=M[0],K=M[1],Q=c.a.useState(!1),V=Object(u.a)(Q,2),W=V[0],X=V[1],Y=c.a.useState(!1),Z=Object(u.a)(Y,2),$=Z[0],ee=Z[1],te=c.a.useState(!1),ne=Object(u.a)(te,2),ae=ne[0],ce=ne[1],ie=c.a.useState(!1),se=Object(u.a)(ie,2),oe=se[0],re=se[1],le=c.a.useState(!1),ue=Object(u.a)(le,2),pe=ue[0],_e=ue[1],de=c.a.useState(!1),je=Object(u.a)(de,2),me=je[0],be=je[1],he=c.a.useState({}),fe=Object(u.a)(he,2),ge=fe[0],Oe=fe[1],xe=c.a.useState(!1),ve=Object(u.a)(xe,2),ye=ve[0],Ne=ve[1],Ce=c.a.useState(!1),ke=Object(u.a)(Ce,2),Se=ke[0],De=ke[1],Te=c.a.useState(!0),Le=Object(u.a)(Te,2),Ue=Le[0],Ee=Le[1],Ie=c.a.useState(""),Ae=Object(u.a)(Ie,2),Pe=Ae[0],we=Ae[1],ze=c.a.useState(""),Re=Object(u.a)(ze,2),Be=Re[0],qe=Re[1],Je=Object(r.g)();function Fe(e){Ne(!0),E.deleteCard(e._id,Be).then((function(){var t=J.filter((function(t){return t._id!==e._id}));F(t)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e,", \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"))})).finally((function(){re(!1),Ne(!1)}))}function He(){D(!1),a(!1),d(!1),w(!1),ce(!1),re(!1),_e(!1)}function Me(){Ee(!0)}return c.a.useEffect((function(){!function(){if(localStorage.getItem("token")){var e=localStorage.getItem("token");X(!0),e&&Promise.all([_(e),E.getUserInfo(e),E.getInitialCards(e)]).then((function(e){var t=Object(u.a)(e,3),n=t[0],a=t[1],c=t[2];we(n.email),De(!0),qe(localStorage.getItem("token")),Je.push("/main"),K(a),F(c)})).catch((function(){ce(!0)})).finally((function(){X(!1)}))}}()}),[Je,Se,Be]),Object(j.jsx)(r.c,{history:Je,children:Object(j.jsx)(b.Provider,{value:G,children:Object(j.jsxs)("div",{className:"page",children:[Object(j.jsx)(m,{loggedIn:Se,isLoginActive:Ue,onSignOut:function(){De(!1),we("")},userEmail:Pe,handleLoginActive:Me,handleLoginInactive:function(){Ee(!1)}}),Object(j.jsxs)(r.d,{children:[Object(j.jsx)(q,{path:"/main",loggedIn:Se,component:f,onEditProfile:function(){a(!0)},onAddPlace:function(){d(!0)},onEditAvatar:function(){D(!0)},onCardClick:function(e){w({link:e.link,name:e.name})},cards:J,onCardLike:function(e){var t=e.likes.some((function(e){return e===G._id}));E.changeLikeCardStatus(e._id,!t,Be).then((function(t){F((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e,", \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"))}))},onCardDelete:Fe,onDelete:function(e){re(!0),Oe(e)}}),Object(j.jsx)(r.b,{exact:!0,path:"/sign-in",children:Object(j.jsx)(I,{onLogin:function(e,t){(function(e,t){return fetch("".concat(p,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("token",e.token),e}))})(e,t).then((function(e){e.token&&(De(!0),Je.push("/main"))})).catch((function(){_e(!0)}))},loggedIn:Se})}),Object(j.jsx)(r.b,{exact:!0,path:"/sign-up",children:Object(j.jsx)(A,{handleLoginActive:Me,onRegister:function(e,t){(function(e,t){return fetch("".concat(p,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return e.json()}))})(e,t).then((function(e){e?(be(!0),_e(!0),Ee(!0),Je.push("/sign-in")):(be(!1),_e(!0))})).catch((function(e){console.log(e),be(!1),_e(!0)}))},isRegisterSuccess:me})}),Object(j.jsx)(r.b,{exact:!0,path:"/",children:Se?Object(j.jsx)(r.a,{to:"/main"}):Object(j.jsx)(r.a,{to:"/sign-in"})})]}),Object(j.jsx)(g,{}),Object(j.jsx)(z,{isOpen:pe,onClose:He,success:me}),Object(j.jsx)(v,{isOpen:n,onClose:He,onUpdateUser:function(e){ee(!0),E.changeUserInfo(e,Be).then((function(e){K(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e,", \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"))})).finally((function(){a(!1),ee(!1)}))},isSaving:$}),Object(j.jsx)(y,{isOpen:C,onClose:He,onUpdateAvatar:function(e){ee(!0),E.getNewUserPic(e,Be).then((function(e){K(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e,", \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"))})).finally((function(){D(!1),ee(!1)}))},isSaving:$}),Object(j.jsx)(N,{isOpen:o,onClose:He,onAddPlace:function(e){ee(!0),E.addNewCard(e,Be).then((function(e){F([e].concat(Object(l.a)(J)))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e,", \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"))})).finally((function(){d(!1),ee(!1)}))},isSaving:$}),Object(j.jsx)(S,{isOpen:oe,onClose:He,onCardDelete:function(){Fe(ge)},isDeleting:ye}),Object(j.jsx)(O,{name:"image",card:P,onClose:He}),Object(j.jsx)(k,{isOpen:ae,onClose:He}),Object(j.jsx)(T,{isLoading:W})]})})})})),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(r.d,{children:Object(j.jsx)(J,{})})})}),document.getElementById("root")),F()}},[[38,1,2]]]);
//# sourceMappingURL=main.0aec924e.chunk.js.map