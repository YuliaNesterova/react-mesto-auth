{"version":3,"sources":["utils/auth.js","images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/error.jpg","components/ErrorPopup.js","components/CardDeletePopup.js","images/ring.svg","components/Loader.js","utils/api.js","components/Login.js","components/Register.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","getUserData","token","fetch","method","headers","then","res","json","data","Header","props","history","useHistory","className","src","logo","alt","loggedIn","userEmail","to","onClick","localStorage","removeItem","onSignOut","push","isLoginActive","handleLoginInactive","handleLoginActive","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onCardClick","onDelete","onCardLike","type","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","onCardDelete","Footer","ImagePopup","onClose","PopupWithForm","isOpen","title","onSubmit","children","save","isSaving","isDeleting","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","id","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","newAvatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","image","setImage","ErrorPopup","errorImage","CardDeletePopup","evt","Loader","isLoading","loader","api","baseUrl","authorization","contentType","this","_baseUrl","_authorization","_contentType","ok","Promise","reject","console","log","status","_getResponseData","object","body","JSON","stringify","withRouter","email","setEmail","password","setPassword","onLogin","isRegisterSuccess","onRegister","InfoTooltip","success","fail","ProtectedRoute","Component","component","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","pageLoader","setPageLoader","setIsSaving","isErrorPopupOpen","setIsErrorPopupOpen","isCardDeletePopupOpen","setIsCardDeletePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsRegisterSuccess","currentCard","setCurrentCard","setIsDeleting","setLoggedIn","isLoginPageActive","setIsLoginPageActive","setUserEmail","setToken","handleCardDelete","deleteCard","newCards","filter","item","catch","finally","closeAllPopups","getItem","all","auth","getUserInfo","getInitialCards","userData","userInfo","checkToken","Provider","path","changeLikeCardStatus","newCard","state","c","exact","response","setItem","err","changeUserInfo","user","getNewUserPic","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0aec924e.chunk.js","sourcesContent":["export const BASE_URL = 'http://api.nesterova.students.nomoredomains.icu';\n\nexport function register (password, email) {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"password\": password,\n            \"email\": email\n        })\n    })\n        .then((res) => res.json())\n}\n\nexport function authorize (password, email) {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"password\": password,\n            \"email\": email\n        })\n    })\n        .then((response => response.json()))\n        .then((data) => {\n            if (data.token){\n                localStorage.setItem('token', data.token);\n                return data;\n            }\n        })\n}\n\nexport function getUserData(token) {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then(res => res.json())\n        .then(data => data)\n}","export default __webpack_public_path__ + \"static/media/header__logo.ff16f24b.svg\";","import React from \"react\";\nimport logo from \"../images/header__logo.svg\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport default function Header(props) {\n    const history = useHistory();\n\n    function handleSignOut() {\n        localStorage.removeItem('token');\n        props.onSignOut();\n\n        history.push('/sign-in');\n    }\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"Место\" className=\"header__logo\"/>\n            {props.loggedIn ? <div className=\"header__wrapper\">\n                <p className=\"header__email\">{props.userEmail}</p>\n                <Link to=\"/sign-in\" className=\"header__link header__link_type_signout\" onClick={handleSignOut}>Выйти</Link>\n            </div> : props.isLoginActive ? <Link to=\"/sign-up\" className=\"header__link\"\n                                                 onClick={props.handleLoginInactive}>Регистрация</Link> :\n                    <Link to=\"/sign-in\" className=\"header__link\" onClick={props.handleLoginActive}>Войти</Link>}\n        </header>\n    );\n}\n","import React  from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\n\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = props.card.owner === currentUser._id;\n    const isLiked = props.card.likes.some(i => i === currentUser._id);\n\n    const cardDeleteButtonClassName = (\n        `${isOwn ? 'element__delete-button' : 'element__delete-button element__delete-button_hidden'}`\n    );\n\n    const cardLikeButtonClassName = `${isLiked ? 'element__like-button element__like-button_clicked' : 'element__like-button'}`;\n\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick() {\n        props.onDelete(props.card);\n    }\n\n    return(\n        <li className=\"element\">\n            <img src={props.card.link} alt={props.card.name} className=\"element__image\" onClick={handleClick}/>\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n            <div className=\"element__description\">\n                <h2 className=\"element__text\">{props.card.name}</h2>\n                <div className=\"element__likes\">\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n                    <span className=\"element__like-counter\">{props.card.likes.length}</span>\n                </div>\n            </div>\n        </li>\n    )\n}","import React from 'react';\n\nimport Card from \"./Card.js\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main (props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n\n            <main className=\"content\">\n\n                <section className=\"profile\">\n\n                    <div className=\"profile__info\">\n                        <button className=\"profile__image-button\" onClick={props.onEditAvatar}>\n                            <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__image\" />\n                        </button>\n\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\n                    </div>\n                    <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n                </section>\n\n                <section className=\"elements\">\n                    <ul className=\"elements__items\">\n                        {props.cards.map((card) => {\n                            return (\n                            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}\n                            onDelete={props.onDelete}/>\n                            )\n                        })}\n                    </ul>\n                </section>\n\n            </main>\n    );\n}\n\nexport default Main;\n\n","export default function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}","import React from \"react\";\n\nexport default function ImagePopup(props) {\n\n    return (\n        <section className={props.card ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>\n            <figure className=\"popup__container-image\">\n                <button onClick={props.onClose}\n                    className={`popup__close-button popup__close-button_type_${props.name} popup__close-button_position_side`}></button>\n                <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\n                <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n            </figure>\n        </section>\n    )\n}","import React from \"react\";\n\nexport default function PopupWithForm(props) {\n\n    return (\n        <section className={`popup popup_type_${props.name} ${props.isOpen ? `popup_opened` : ''}`}>\n            <div className={`popup__container popup__container_type_${props.name}`}>\n                <button onClick={props.onClose} className={`popup__close-button popup__close-button_type_${props.name}`}></button>\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form name={props.name} onSubmit={props.onSubmit} className={`popup__form popup__form_type_${props.name}`}>\n                    {props.children}\n                    <button className={`popup__button popup__button_type_${props.name}`} type=\"submit\">\n                        {props.save ? props.isSaving ? `Сохранение...` : `Сохранить` : props.isDeleting ? `Удаление...` : `Удалить`}\n                    </button>\n\n                </form>\n            </div>\n        </section>\n        )\n    }\n","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n        }, [currentUser]);\n\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm isOpen={props.isOpen} save={true} onClose={props.onClose} onSubmit={handleSubmit} name={`edit`} title={`Редактировать профиль`} isSaving={props.isSaving}>\n            <fieldset className=\"popup__field\">\n                <input type=\"text\" name=\"name\" className=\"popup__input popup__input_type_title\"\n                       placeholder=\"Имя\"\n                       id=\"name-input\"\n                       minLength=\"2\"\n                       maxLength=\"40\"\n                       value={name || ''}\n                       onChange={handleNameChange} required/>\n                <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n                <input type=\"text\" name=\"profession\" className=\"popup__input popup__input_type_subtitle\"\n                       placeholder=\"Вид деятельности\" id=\"profession-input\"\n                       minLength=\"2\" maxLength=\"200\"\n                       value={description || ''}\n                       onChange={handleDescriptionChange} required/>\n                <span className=\"popup__input-error\" id=\"profession-input-error\"></span>\n            </fieldset>\n        </PopupWithForm>\n    )\n}","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup(props) {\n    const newAvatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: newAvatarRef.current.value\n        });\n\n\n    }\n\n    React.useEffect(() => {\n        if (!props.isOpen) {\n            newAvatarRef.current.value = \"\";\n        }\n    }, [props.isOpen]);\n\n    return (\n        <PopupWithForm isOpen={props.isOpen} save={true} onClose={props.onClose} name={`edit-pic`} title={`Обновить аватар`} isSaving={props.isSaving}\n                       onSubmit={handleSubmit}>\n            <fieldset className=\"popup__field\">\n                <input type=\"url\" name=\"user_pic\" className=\"popup__input popup__input_type_link\"\n                       id=\"profile-pic-input\"\n                       placeholder=\"Ссылка на картинку\"\n                       ref={newAvatarRef} required />\n                <span className=\"popup__input-error\" id=\"profile-pic-input-error\"></span>\n            </fieldset>\n        </PopupWithForm>\n    )\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup(props) {\n    const [image, setImage] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleImageChange(e) {\n        setImage(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onAddPlace(\n            {\n                description, image\n            }\n        )\n    }\n\n    React.useEffect(() => {\n        if (!props.isOpen) {\n            setImage('');\n            setDescription('');\n        }\n    }, [props.isOpen]);\n\n    return (\n        <PopupWithForm  isOpen={props.isOpen} save={true} onClose={props.onClose} onSubmit={handleSubmit} name={`add`} title={`Новое место`} isSaving={props.isSaving}>\n            <fieldset className=\"popup__field\">\n                <input type=\"text\" name=\"description\" className=\"popup__input popup__input_type_description\"\n                       id=\"description-input\"\n                       placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\n                       value={description || ''}\n                       onChange={handleDescriptionChange} required />\n                <span className=\"popup__input-error\" id=\"description-input-error\"></span>\n                <input type=\"url\" name=\"image\" className=\"popup__input popup__input_type_link\"\n                       id=\"place-image-input\"\n                       placeholder=\"Ссылка на картинку\"\n                       value={image || ''}\n                       onChange={handleImageChange} required />\n                <span className=\"popup__input-error\" id=\"place-image-input-error\"></span>\n            </fieldset>\n        </PopupWithForm>\n    )\n}","export default __webpack_public_path__ + \"static/media/error.9a236596.jpg\";","import errorImage from '../images/error.jpg';\n\nexport default function ErrorPopup(props) {\n\n    return (\n        <section className={props.isOpen ? `popup popup_type_error popup_opened` : `popup popup_type_error`}>\n            <div className=\"popup__container popup__container_type_error\">\n                <button onClick={props.onClose} className=\"popup__close-button popup__close-button_type_error popup__close-button_position_side\"></button>\n                <img src={errorImage} alt=\"Ошибка\" className=\"popup__error-image\"/>\n                    <h2 className=\"popup__title popup__title_type_error\">Что-то пошло не так</h2>\n                    <p className=\"popup__subtitle\">Попробуйте еще раз</p>\n            </div>\n        </section>\n    )\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function CardDeletePopup(props) {\n\n    function handleCardDeleteSubmit(evt) {\n        evt.preventDefault();\n\n        props.onCardDelete(evt);\n    }\n\n    return (\n        <PopupWithForm name=\"delete\" save={false} isOpen={props.isOpen} onClose={props.onClose} title=\"Вы уверены?\"\n                       onSubmit={handleCardDeleteSubmit} isDeleting={props.isDeleting}/>\n    )\n}","export default __webpack_public_path__ + \"static/media/ring.8f5826bb.svg\";","import React from \"react\";\nimport loader from '../images/ring.svg'\n\nexport default function Loader(props) {\n\n    return (\n        <div className={props.isLoading ? `loader loader_shown` : `loader`}>\n            <>\n            <img src={loader} alt=\"\" className=\"loader__image loader__image_size_xl\" />\n            <img src={loader} alt=\"\" className=\"loader__image loader__image_size_l\" />\n            <img src={loader} alt=\"\" className=\"loader__image loader__image_size_m\" />\n            <img src={loader} alt=\"\" className=\"loader__image loader__image_size_s\"/>\n            <img src={loader} alt=\"\" className=\"loader__image loader__image_size_xs\"/>\n            </>\n        </div>\n    )\n}","class Api {\n    constructor({baseUrl, authorization, contentType}) {\n        this._baseUrl = baseUrl;\n        this._authorization = authorization;\n        this._contentType = contentType;\n    }\n\n    _getResponseData(res) {\n        if (!res.ok) {\n            return Promise.reject(console.log(`Ошибка ${res.status}`));\n        }\n        return res.json();\n    }\n\n    getInitialCards(token) {\n           return fetch(`${this._baseUrl}/cards`, {\n                headers: {\n                    authorization: `Bearer ${token}`\n                }\n            })\n               .then((res) => this._getResponseData(res));\n        }\n\n    getUserInfo(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                authorization: `Bearer ${token}`\n            }\n        })\n            .then((res) => this._getResponseData(res));\n    }\n\n    changeUserInfo(object, token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: `Bearer ${token}`,\n                'Content-Type': this._contentType\n            },\n            body: JSON.stringify({\n                name: object.name,\n                about: object.about\n            })\n        })\n            .then((res) => this._getResponseData(res));\n    }\n\n    addNewCard(object, token) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: `Bearer ${token}`,\n                'Content-Type': this._contentType\n            },\n            body: JSON.stringify({\n                name: object.description,\n                link: object.image\n            })\n        })\n            .then((res) => this._getResponseData(res));\n    }\n\n    deleteCard(id, token) {\n        return fetch(`${this._baseUrl}/cards/${id}`, {\n            method: \"DELETE\",\n            headers: {\n                authorization: `Bearer ${token}`,\n                'Content-Type': this._contentType\n            },\n        })\n            .then((res) => this._getResponseData(res));\n    }\n\n    getNewUserPic(object, token) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: `Bearer ${token}`,\n                'Content-Type': this._contentType\n            },\n            body: JSON.stringify({\n                avatar: object.avatar\n            })\n        })\n            .then((res) => this._getResponseData(res));\n    }\n\n    changeLikeCardStatus(id, isLiked, token) {\n        if(isLiked) {\n            return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n                method: 'PUT',\n                headers: {\n                    authorization: `Bearer ${token}`,\n                    'Content-Type': this._contentType\n                }\n            })\n                .then((res) => this._getResponseData(res));\n        } else {\n            return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n                method: 'DELETE',\n                headers: {\n                    authorization: `Bearer ${token}`,\n                    'Content-Type': this._contentType\n                }\n            })\n                .then((res) => this._getResponseData(res));\n        }\n    }\n    }\n\n    const api = new Api({baseUrl: 'http://api.nesterova.students.nomoredomains.icu', contentType: 'application/json'})\n\nexport default api;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\n\nfunction Login(props) {\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleEmailChange(e) {\n        setEmail(e.target.value)\n    }\n\n    function handlePasswordChange(e) {\n        setPassword(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        if(!email || !password) {\n            return\n        }\n        props.onLogin(password, email);\n    }\n\n    React.useEffect(() => {\n        if(props.loggedIn) {\n            setEmail('');\n            setPassword('');\n        }\n    }, [props.loggedIn])\n\n    return (\n        <section className=\"data data_type_login\">\n            <div className=\"data__container data__container_type_login\">\n                <h2 className=\"data__title data__header_type_login\">Вход</h2>\n                <form name=\"login-form\" className=\"data__form data__form-type_login\" onSubmit={handleSubmit}>\n                    <input className=\"data__input data__input_type_register\" placeholder=\"Email\"\n                           name=\"email\" id=\"email\" type=\"email\"\n                           value={email} onChange={handleEmailChange}\n                           required/>\n                    <input className=\"data__input data__input_type_register\" placeholder=\"Пароль\"\n                           name=\"password\" id=\"password\" type=\"password\"\n                           value={password} onChange={handlePasswordChange}\n                           required/>\n                    <button type=\"submit\" className=\"data__button data__button_type_login\">Войти</button>\n                </form>\n            </div>\n        </section>\n    )\n}\n\nexport default withRouter(Login);\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction Register(props) {\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleEmailChange(e) {\n        setEmail(e.target.value)\n    }\n\n    function handlePasswordChange(e) {\n        setPassword(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onRegister(password, email);\n    }\n\n    React.useEffect(() => {\n        if(props.isRegisterSuccess) {\n            setEmail('');\n            setPassword('');\n        }\n    }, [props.isRegisterSuccess])\n\n    return (\n        <section className=\"data data_type_register\">\n            <div className=\"data__container data__container_type_register\">\n                <h2 className=\"data__title data__header_type_register\">Регистрация</h2>\n                <form name=\"login-form\" className=\"data__form data__form-type_register\" onSubmit={handleSubmit}>\n                    <input className=\"data__input data__input_type_register\" placeholder=\"Email\"\n                           name=\"email\" id=\"email\" type=\"email\"\n                           value={email} onChange={handleEmailChange}\n                           required/>\n                    <input className=\"data__input data__input_type_register\" placeholder=\"Пароль\"\n                           name=\"password\" id=\"password\" type=\"password\"\n                           value={password} onChange={handlePasswordChange}\n                           required/>\n                    <button type=\"submit\" className=\"data__button data__button_type_register\">Зарегистрироваться</button>\n                </form>\n                <h3 className=\"data__subtitle\">Уже зарегистрированы?\n                    <Link className=\"data__link\" to=\"/sign-in\" onClick={props.handleLoginActive}> Войти</Link></h3>\n            </div>\n        </section>\n    )\n}\n\nexport default withRouter(Register);\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport success from '../images/success.svg';\nimport fail from '../images/fail.svg';\n\nexport default function InfoTooltip(props) {\n    return (\n        <section className={props.isOpen? `popup popup_type_info popup_opened` : `popup popup_type_info`}>\n            <div className=\"popup__container popup__container_type_info\">\n                <button onClick={props.onClose} className=\"popup__close-button popup__close-button_type_info\"></button>\n                <img src={props.success ? success : fail} alt=\"\" className=\"popup__info-image\"/>\n                <h2 className=\"popup__title popup__title_type_info\">{props.success ? 'Вы успешно зарегистрировались!' :\n                    'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\n            </div>\n        </section>\n        )\n}","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function ProtectedRoute ({component: Component, ...props}) {\n    return (\n        <Route>\n            {\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n            }\n        </Route>\n    )};\n","import React from \"react\";\nimport {Router, Route, withRouter, useHistory, Switch, Redirect } from \"react-router-dom\";\nimport * as auth from '../utils/auth';\n\nimport Header from './Header.js'\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ErrorPopup from \"./ErrorPopup\";\nimport CardDeletePopup from \"./CardDeletePopup\";\nimport Loader from \"./Loader\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(false);\n    const [cards, setCards] = React.useState([]);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [pageLoader, setPageLoader] = React.useState(false);\n    const [isSaving, setIsSaving] = React.useState(false);\n    const [isErrorPopupOpen, setIsErrorPopupOpen] = React.useState(false);\n    const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = React.useState(false);\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n    const [isRegisterSuccess, setIsRegisterSuccess] = React.useState(false);\n    const [currentCard, setCurrentCard] = React.useState({});\n    const [isDeleting, setIsDeleting] = React.useState(false);\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [isLoginPageActive, setIsLoginPageActive] = React.useState(true);\n    const [userEmail, setUserEmail] = React.useState('');\n    const [token, setToken] = React.useState('');\n\n    const history = useHistory();\n\n    function handleLogin(password, email) {\n        auth.authorize(password, email)\n            .then((data) => {\n                if(data.token) {\n                    setLoggedIn(true)\n                    history.push('/main');\n                }\n            })\n            .catch(() => {\n                setIsInfoTooltipOpen(true)\n            })\n    }\n\n    React.useEffect(() => {\n        function checkToken() {\n\n            if(localStorage.getItem('token')) {\n                const token = localStorage.getItem('token');\n\n                setPageLoader(true);\n\n                if(token) {\n                    Promise.all([auth.getUserData(token), api.getUserInfo(token), api.getInitialCards(token)])\n                        .then(([userData, userInfo, cards]) => {\n                                setUserEmail(userData.email);\n                                setLoggedIn(true);\n                                setToken(localStorage.getItem('token'));\n                                history.push('/main');\n                                setCurrentUser(userInfo)\n                                setCards(cards)\n                        })\n                        .catch(() => {\n                            setIsErrorPopupOpen(true);\n                            }\n                        )\n                        .finally(() => {\n                            setPageLoader(false);\n                        })\n                }\n            }\n        }\n        checkToken();\n\n    }, [history, loggedIn, token])\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n   function handleCardClick(card) {\n        setSelectedCard({\n            link: card.link,\n            name: card.name\n        });\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i === currentUser._id);\n\n        api.changeLikeCardStatus(card._id, !isLiked, token).then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n            .catch((res) =>  {\n                console.log(`Ошибка ${res}, попробуйте еще раз`);\n            });\n    }\n\n    function handleCardDelete(card) {\n       setIsDeleting(true);\n\n           api.deleteCard(card._id, token).then(() => {\n               const newCards = cards.filter((item) => {return item._id !== card._id})\n               setCards(newCards);\n           })\n               .catch((res) =>  {\n                   console.log(`Ошибка ${res}, попробуйте еще раз`);\n               })\n               .finally(() => {\n                   setIsCardDeletePopupOpen(false);\n                   setIsDeleting(false);\n               });\n       }\n\n    function handleDeleteCardPopup(card) {\n       setIsCardDeletePopupOpen(true);\n       setCurrentCard(card);\n    }\n\n    function handleDeleteCardConfirm() {\n       handleCardDelete(currentCard);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(false);\n        setIsErrorPopupOpen(false);\n        setIsCardDeletePopupOpen(false);\n        setIsInfoTooltipOpen(false);\n    }\n\n   function handleUpdateUser(object) {\n       setIsSaving(true);\n\n       api.changeUserInfo(object, token).then((user) => {\n           setCurrentUser(user);\n       })\n           .catch((res) =>  {\n               console.log(`Ошибка ${res}, попробуйте еще раз`);\n           })\n           .finally(() => {\n               setIsEditProfilePopupOpen(false);\n               setIsSaving(false);\n           });\n    }\n\n    function handleUpdateAvatar(object) {\n       setIsSaving(true);\n\n       api.getNewUserPic(object, token).then((avatar) => {\n           setCurrentUser(avatar);\n       })\n           .catch((res) =>  {\n               console.log(`Ошибка ${res}, попробуйте еще раз`);\n           })\n           .finally(() => {\n               setIsEditAvatarPopupOpen(false);\n               setIsSaving(false);\n           });\n    }\n\n    function handleAddPlace(object) {\n        setIsSaving(true);\n\n        api.addNewCard(object, token).then((newCard) => {\n            setCards([newCard, ...cards]);\n\n        })\n            .catch((res) =>  {\n                console.log(`Ошибка ${res}, попробуйте еще раз`);\n            })\n            .finally(() => {\n                setIsAddPlacePopupOpen(false);\n                setIsSaving(false);\n            });\n    }\n\n\n    function handleSignOut() {\n       setLoggedIn(false);\n       setUserEmail('');\n    }\n\n    function handleLoginActive() {\n        setIsLoginPageActive(true)\n    }\n\n    function handleLoginInactive() {\n        setIsLoginPageActive(false);\n    }\n\n    function handleRegister(password, email) {\n        auth.register(password, email)\n            .then((res) => {\n                if(res) {\n                    setIsRegisterSuccess(true);\n                    setIsInfoTooltipOpen(true);\n                    setIsLoginPageActive(true);\n                    history.push('/sign-in');\n                } else {\n                    setIsRegisterSuccess(false);\n                    setIsInfoTooltipOpen(true);\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n                setIsRegisterSuccess(false);\n                setIsInfoTooltipOpen(true);\n            })\n    }\n\n  return (\n      <Router history={history}>\n\n      <CurrentUserContext.Provider value={currentUser}>\n\n          <div className=\"page\">\n              <Header loggedIn={loggedIn} isLoginActive={isLoginPageActive} onSignOut={handleSignOut}\n                      userEmail={userEmail} handleLoginActive={handleLoginActive}\n                      handleLoginInactive={handleLoginInactive}/>\n\n              <Switch>\n              <ProtectedRoute path=\"/main\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick}\n                              onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick}\n                              onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike}\n                              onCardDelete={handleCardDelete} onDelete={handleDeleteCardPopup}/>\n              <Route exact path=\"/sign-in\">\n                  <Login onLogin={handleLogin} loggedIn={loggedIn}/>\n              </Route>\n              <Route exact path=\"/sign-up\">\n                  <Register handleLoginActive={handleLoginActive} onRegister={handleRegister} isRegisterSuccess={isRegisterSuccess}/>\n              </Route>\n              <Route exact path=\"/\">\n                  {loggedIn ? <Redirect to=\"/main\"/> : <Redirect to=\"/sign-in\" />}\n              </Route>\n              </Switch>\n\n              <Footer />\n              <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} success={isRegisterSuccess} />\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isSaving={isSaving}/>\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isSaving={isSaving}/>\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} isSaving={isSaving}/>\n              <CardDeletePopup isOpen={isCardDeletePopupOpen} onClose={closeAllPopups} onCardDelete={handleDeleteCardConfirm} isDeleting={isDeleting}/>\n              <ImagePopup name={`image`} card={selectedCard} onClose={closeAllPopups} />\n              <ErrorPopup isOpen={isErrorPopupOpen} onClose={closeAllPopups} />\n              <Loader isLoading={pageLoader}/>\n          </div>\n\n      </CurrentUserContext.Provider>\n\n      </Router>\n      );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <Switch>\n              <App />\n          </Switch>\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}